{% extends "base.html" %}

{% block title %}Submit Application{% endblock %}

{% block content %}
<div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="bg-white/90 backdrop-blur-sm rounded-xl sm:rounded-2xl shadow-xl border border-slate-200/50 p-4 sm:p-6 lg:p-8">
        <div class="text-center mb-6 lg:mb-8">
            <div class="inline-flex items-center justify-center w-16 h-16 sm:w-20 sm:h-20 bg-gradient-to-r from-green-100 to-blue-100 rounded-full mb-4">
                <i class="fas fa-file-plus text-2xl sm:text-3xl lg:text-4xl text-green-500"></i>
            </div>
            <h2 class="text-xl sm:text-2xl lg:text-3xl font-bold bg-gradient-to-r from-green-600 to-blue-600 bg-clip-text text-transparent mb-2">Submit Subsidy Application</h2>
            <p class="text-sm sm:text-base text-slate-600">Apply for green hydrogen project subsidy</p>
        </div>

        <form method="POST" enctype="multipart/form-data" class="space-y-4 sm:space-y-6">
            {{ form.hidden_tag() }}
            
            <div class="space-y-4 sm:space-y-6">
                <div>
                    {{ form.project_name.label(class="block text-slate-700 text-sm sm:text-base font-semibold mb-2") }}
                    {{ form.project_name(class="w-full px-3 sm:px-4 py-2 sm:py-3 border-2 border-slate-200 rounded-lg sm:rounded-xl focus:outline-none focus:border-green-500 focus:ring-2 focus:ring-green-200 transition-all duration-200 text-sm sm:text-base") }}
                    {% if form.project_name.errors %}
                        <div class="text-red-500 text-xs sm:text-sm mt-1">
                            {% for error in form.project_name.errors %}
                                <p>{{ error }}</p>
                            {% endfor %}
                        </div>
                    {% endif %}
                </div>

                <div>
                    {{ form.capacity.label(class="block text-slate-700 text-sm sm:text-base font-semibold mb-2") }}
                    {{ form.capacity(class="w-full px-3 sm:px-4 py-2 sm:py-3 border-2 border-slate-200 rounded-lg sm:rounded-xl focus:outline-none focus:border-green-500 focus:ring-2 focus:ring-green-200 transition-all duration-200 text-sm sm:text-base", step="0.1") }}
                    {% if form.capacity.errors %}
                        <div class="text-red-500 text-xs sm:text-sm mt-1">
                            {% for error in form.capacity.errors %}
                                <p>{{ error }}</p>
                            {% endfor %}
                        </div>
                    {% endif %}
                    <p class="text-slate-500 text-xs sm:text-sm mt-2">Enter the project capacity in Megawatts (MW)</p>
                </div>

                <div>
                    {{ form.project_details.label(class="block text-slate-700 text-sm sm:text-base font-semibold mb-2") }}
                    {{ form.project_details(class="w-full px-3 sm:px-4 py-2 sm:py-3 border-2 border-slate-200 rounded-lg sm:rounded-xl focus:outline-none focus:border-green-500 focus:ring-2 focus:ring-green-200 transition-all duration-200 text-sm sm:text-base resize-y", rows="4 sm:6") }}
                    {% if form.project_details.errors %}
                        <div class="text-red-500 text-xs sm:text-sm mt-1">
                            {% for error in form.project_details.errors %}
                                <p>{{ error }}</p>
                            {% endfor %}
                        </div>
                    {% endif %}
                </div>
                
                <div>
                    {{ form.document_files.label(class="block text-slate-700 text-sm sm:text-base font-semibold mb-2") }}
                    {{ form.document_files(class="w-full px-3 sm:px-4 py-2 sm:py-3 border-2 border-slate-200 rounded-lg sm:rounded-xl focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all duration-200 text-sm sm:text-base file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100", multiple=true) }}
                    <p class="text-blue-500 text-xs sm:text-sm mt-2">Attach PDFs, images, or other supporting documents (optional, multiple allowed)</p>
                </div>
            </div>

            <div class="bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 p-4 sm:p-6 rounded-xl mb-6 sm:mb-8">
                <h4 class="font-semibold text-blue-800 mb-3 text-sm sm:text-base flex items-center">
                    <i class="fas fa-info-circle mr-2"></i>Application Process:
                </h4>
                <ul class="text-xs sm:text-sm text-blue-700 space-y-2">
                    <li class="flex items-start">
                        <i class="fas fa-check-circle text-green-500 mr-2 mt-0.5"></i>
                        Your application will be reviewed by an auditor
                    </li>
                    <li class="flex items-start">
                        <i class="fas fa-check-circle text-green-500 mr-2 mt-0.5"></i>
                        Upon auditor verification, it goes to government for approval
                    </li>
                    <li class="flex items-start">
                        <i class="fas fa-check-circle text-green-500 mr-2 mt-0.5"></i>
                        Approved applications are forwarded to banks for fund disbursement
                    </li>
                    <li class="flex items-start">
                        <i class="fas fa-check-circle text-green-500 mr-2 mt-0.5"></i>
                        You can track the status in your dashboard
                    </li>
                </ul>
            </div>

            <div class="flex flex-col sm:flex-row gap-3 sm:gap-4">
                <button type="submit" class="flex-1 bg-gradient-to-r from-green-500 to-blue-500 text-white py-3 sm:py-4 px-4 sm:px-6 rounded-xl hover:from-green-600 hover:to-blue-600 focus:outline-none focus:ring-4 focus:ring-green-200 transition-all duration-200 transform hover:scale-105 font-semibold text-sm sm:text-base shadow-lg">
                    <i class="fas fa-paper-plane mr-2"></i>Submit Application
                </button>
                <a href="{{ url_for('main.dashboard') }}" class="flex-1 bg-slate-600 text-white py-3 sm:py-4 px-4 sm:px-6 rounded-xl hover:bg-slate-700 focus:outline-none focus:ring-4 focus:ring-slate-200 transition-all duration-200 text-center font-semibold text-sm sm:text-base">
                    <i class="fas fa-arrow-left mr-2"></i>Back to Dashboard
                </a>
            </div>
        </form>
    </div>
</div>
{% endblock %}
